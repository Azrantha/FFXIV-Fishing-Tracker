CREATE TABLE fish (
  fishId INT IDENTITY NOT NULL PRIMARY KEY,
  fishName nvarchar(45) NOT NULL UNIQUE,
  fishLevel nvarchar(45) NOT NULL,
  fishDescription ntext,
  fishPatch nvarchar(5) NOT NULL
)

---------------------

INSERT INTO fish ([fishName], [fishLevel], [fishPatch], [fishDescription])
SELECT 'Scaleripper', '60', '3.3', 'A king among shadowhiskers, and lord of the waters of the Hundred Throes.'
UNION ALL
SELECT 'Whilom catfish', '52', '3.0', 'A small, red catfish native to the Whilom River.'
UNION ALL
SELECT 'Shadowhisker', '55', '3.0', 'A large freshwater fish found in The Hundred Throes'

_______________________________


CREATE TABLE map (
  mapId INT IDENTITY NOT NULL PRIMARY KEY,
  mapName nvarchar(45) UNIQUE
)

-----------------------

insert into map (mapName) values ('The Dravanian Forelands')

_______________________________

CREATE TABLE location (
  locationId INT IDENTITY NOT NULL PRIMARY KEY,
  locationName nvarchar(45),
  locationMap INT REFERENCES map(mapId)
)

-----------------------

INSERT INTO location (locationName, locationMap)
SELECT 'The Hundred Throes', mapId from map where mapName = 'The Dravanian Forelands'
UNION ALL 
SELECT 'Whilom River', mapId from map where mapName = 'The Dravanian Forelands'
UNION ALL
SELECT 'The Smoldering Wastes', mapId from map where mapName = 'The Dravanian Forelands'
_______________________________

CREATE TABLE location_fish_junction (
  locationFishJunctionId INT IDENTITY NOT NULL PRIMARY KEY,
  fishId INT REFERENCES fish(fishId),
  locationId INT REFERENCES location(locationId)
)

-----------------------

INSERT INTO Location_fish_junction (fishId, locationId)
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Shadowhisker' and locationName = 'The Hundred Throes'
UNION ALL 
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Whilom Catfish' and locationName = 'The Hundred Throes'
UNION ALL
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Scaleripper' and locationName = 'The Hundred Throes'
UNION ALL
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Whilom Catfish' and locationName = 'Whilom River'
UNION ALL
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Whilom Catfish' and locationName = 'The Smoldering Wastes'
_______________________________

CREATE TABLE user_fish_junction (
  userFishJunctionId INT IDENTITY NOT NULL PRIMARY KEY,
  fishId INT REFERENCES fish(fishId),
  userId INT REFERENCES UserProfile(UserId)
)

-----------------------

INSERT INTO user_fish_junction (fishId, userId)
SELECT fish.fishId, UserProfile.userId from fish, UserProfile
_______________________________

C:\Users\Azrantha\Documents\dumps\Dump20170426
