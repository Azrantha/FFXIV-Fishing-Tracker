CREATE TABLE fish (
  fishId INT IDENTITY NOT NULL PRIMARY KEY,
  fishName nvarchar(45) NOT NULL UNIQUE,
  fishLevel nvarchar(45) NOT NULL,
  fishDescription ntext,
  fishPatch nvarchar(5) NOT NULL,
  fishEorzeaDBLink NOT NULL DEFAULT 'http://eu.finalfantasyxiv.com/lodestone/playguide/db/'
)

---------------------

INSERT INTO fish ([fishName], [fishLevel], [fishPatch], [fishDescription], [fishEorzeaDBLink])
SELECT 'Scaleripper', '60', '3.3', 'A king among shadowhiskers, and lord of the waters of the Hundred Throes.', 'http://eu.finalfantasyxiv.com/lodestone/playguide/db/item/cd9a2a9dd12/'
UNION ALL
SELECT 'Whilom catfish', '52', '3.0', 'A small, red catfish native to the Whilom River.', 'http://eu.finalfantasyxiv.com/lodestone/playguide/db/item/210177619aa/'
UNION ALL
SELECT 'Shadowhisker', '55', '3.0', 'A large freshwater fish found in The Hundred Throes', 'http://eu.finalfantasyxiv.com/lodestone/playguide/db/item/4dd92b8b34c/'

_______________________________


CREATE TABLE map (
  mapId INT IDENTITY NOT NULL PRIMARY KEY,
  mapName nvarchar(45) UNIQUE
)

-----------------------

insert into map (mapName) values ('The Dravanian Forelands')

_______________________________

CREATE TABLE location (
  locationId INT IDENTITY NOT NULL PRIMARY KEY,
  locationName nvarchar(45),
  mapId INT REFERENCES map(mapId)
)

-----------------------

INSERT INTO location (locationName, mapId)
SELECT 'The Hundred Throes', mapId from map where mapName = 'The Dravanian Forelands'
UNION ALL 
SELECT 'Whilom River', mapId from map where mapName = 'The Dravanian Forelands'
UNION ALL
SELECT 'The Smoldering Wastes', mapId from map where mapName = 'The Dravanian Forelands'
_______________________________

CREATE TABLE location_fish_junction (
  locationFishJunctionId INT IDENTITY NOT NULL PRIMARY KEY,
  fishId INT REFERENCES fish(fishId),
  locationId INT REFERENCES location(locationId)
)

-----------------------

INSERT INTO Location_fish_junction (fishId, locationId)
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Shadowhisker' and locationName = 'The Hundred Throes'
UNION ALL 
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Whilom Catfish' and locationName = 'The Hundred Throes'
UNION ALL
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Scaleripper' and locationName = 'The Hundred Throes'
UNION ALL
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Whilom Catfish' and locationName = 'Whilom River'
UNION ALL
SELECT fish.fishId, location.locationId from fish, location where fishName = 'Whilom Catfish' and locationName = 'The Smoldering Wastes'
_______________________________

CREATE TABLE user_fish_junction (
  userFishJunctionId INT IDENTITY NOT NULL PRIMARY KEY,
  fishId INT REFERENCES fish(fishId),
  userId INT REFERENCES UserProfile(UserId),
  caught bit DEFAULT 0
)

-----------------------

INSERT INTO user_fish_junction (fishId, userId)
SELECT fish.fishId, UserProfile.userId from fish, UserProfile
_______________________________

C:\Users\Azrantha\Documents\dumps\Dump20170426
